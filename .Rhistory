rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
blag <- rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
blag <- rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
source("rankhospital.R")
blag <- rankhospital("MD", "heart attack", "worst")
blag
blag <- rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
blag <- rankhospital("MD", "heart attack", "worst")
length(blag)
blag
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
numrows
nrow
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("rankhospital.R")
rankhospital("MD", "heart attack", "worst")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
submit()
submit()
submit()
?tapply
aggregate
aggregate
?aggregate
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
c
source("rankall.R")
rankall("heart attack", 20)
c
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
c
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
data.frame(rankall("heart attack", 20))
source("rankall.R")
data.frame(rankall("heart attack", 20))
matrix(rankall("heart attack", 20))
data.frame(rankall("heart attack", 20))
data.frame(cols=rankall("heart attack", 20))
?data.frame
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
str(rankall("heart attack", 20))
ranks <- rankall("heart attack", 20)
data.frame(keyName=names(ranks), value=ranks, row.names=NULL)
results <- data.frame(keyName=names(ranks), value=ranks, row.names=NULL)
rankall("heart attack", 20)
source("rankall.R")
ranks <- rankall("heart attack", 20)
results <- data.frame(keyName=names(ranks), value=ranks, row.names=NULL)
results
source("rankall.R")
ranks <- rankall("heart attack", 20)
results <- data.frame(keyName=names(ranks), value=ranks, row.names=NULL)
results
results <- data.frame(keyName=names(ranks), hospital=ranks, row.names=NULL)
results
results <- data.frame(keyName=names(ranks), names=ranks, row.names=NULL)
results
rownames(results)
source("rankall.R")
source("rankall.R")
head(rankall("heart attack", 20), 10)
submit()
submit()
submit()
doawnload.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", method="curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", method="curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile="ACS_ID.csv", method="curl")
data = read.csv("ACS_ID.csv")
data <- read.csv("ACS_ID.csv")
head(data)
count(data$VAL = 24)
count(data$VAL == 24)
sum(data$VAL == 24)
?sum
sum(data$VAL == 24, na.rm=True)
sum(data$VAL == 24, na.rm=true)
sum(data$VAL == 24, na.rm=TRUE)
sum(data$FES == NA)
sum(data$FES == NA na.rm=true)
sum(is.na(data$FES)
)
data$FES
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx", destfile="gas.csv", method="curl")
gasdata <- read.xlsx("gas.csv")
library(xlsx)
install.packages("xlsx")
install.packages("xlsx")
library(xlsx)
install.packages("xlsx")
install.packages("xlsx")
install.packages("xlsx")
library(xlsx)
install.packages()
install.packages("rJava")
library(xlsx)
install.packages("libjvm")
library(xlsx)
gasdata <- read.xlsx("gas.csv")
gasdata <- read.xlsx("gas.csv", sheetIndex=1)
dat = gasdata[18:23,7:15]
dat <- gasdata[18:23,7:15]
sum(dat$Zip*dat$Ext,na.rm=T)
install.packages("xml")
libary(XML)
library(XML)
install.packages("XML")
doc <- xmlTreeParse("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml", useInternational=TRUE)
libary(XML)
library(XML)
doc <- xmlTreeParse("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml", useInternational=TRUE)
doc <- xmlTreeParse("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml", useInter=TRUE)
doc <- xmlTreeParse("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml", useInter=TRUE)
doc <- xmlTreeParse("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml")
doc
doc <- xmlTreeParse("http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml", useInter=TRUE)
doc[[1]]
root = xmlRoot(doc)
root[[1]]
xmlSapply(root,xmlValue)
xmlSApply(root,xmlValue)
xmlSApply(root,"//zipcode",xmlValue)
xmlSApply(root,"//zipcode",cat)
xmlSApply(root,"//zipcode",print)
xmlSApply(root,"//zipcode",xmlValue)
xmlName(root)
root
xmlSApply(root,"//zipcode",xmlValue)
xmlSApply(root,"/response",xmlValue)
xmlSApply(root,"/row",xmlValue)
xmlSApply(root,"/",xmlValue)
xmlSApply(root,"/row",xmlValue)
?xmlSapply
xmlpathApply(root,"/row",xmlValue)
xpathApply(root,"/row",xmlValue)
xpathApply(root,"//zipcode",xmlValue)
xpathApply(root,"//zipcode",=23)
xpathApply(root,"//zipcode",FUN=function(z){z = "21211"})
xpathApply(root,"//zipcode",FUN=function(z){z == "21211"})
xpathApply(root,"//zipcode",FUN=function(z){identical(z, "21211")})
xpathApply(root,"//zipcode",function(z){identical(z, "21211")})
xpathApply(root,"//zipcode",identical, "21211")})
xpathApply(root,"//zipcode",identical, "21211"))
xpathApply(root,"//zipcode",identical, "21211")
xpathApply(root,"//zipcode",identical,"1327")
xpathsApply(root,"//zipcode",identical,"1327")
xpathSapply(root,"//zipcode",identical,"1327")
xpathApply(root,"//zipcode",xmlInfo)
xpathApply(root,"//zipcode",xmlValue)
blag <- xpathApply(root,"//zipcode",xmlValue)
describe(blag)
show(blag)
blag = "21124"
blag <- xpathApply(root,"//zipcode",xmlValue)
blag == "21124"
blag
unlist(blag)
sum(unlist(blag)="21231")
sum(unlist(blag)=="21231")
fread("ACS_ID.csv")
libary(fread)
install.packages("RMySQL")
install.packages("RMySQL")
install.packages("sqldf")
source("http://bioconductor.org/biocLite.R")
biocLite("rhdf5")
stuff = curl("http://biostat.jhsph.edu/~jleek/contact.html")
stuff = url("http://biostat.jhsph.edu/~jleek/contact.html")
stuff
html = readLines(stuff)
html
?nchar
lengths <- nchar(html)
nchar[c(10,20,30,100)]
lengths[c(10,20,30,100)]
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", destfile="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", method="curl")
download.file("http://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", destfile="https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", method="curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", destfile="Fwksst8110.for", method="curl")
x <- read.fwf(
file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"),
skip=4,
widths=c(12, 7,4, 9,4, 9,4, 9,4))
x <- read.fwf(
file="Fwksst8110.for"
skip=4,
widths=c(12, 7,4, 9,4, 9,4, 9,4))
x <- read.fwf(
file="Fwksst8110.for",
skip=4,
widths=c(12, 7,4, 9,4, 9,4, 9,4))
x
colnames(x)
sum(x["V4"])
x["V4"]
sum(x["V4"])
?fwf
?read.fwf
qunif(.75, 0, 1)
5 * (7 - 2)
(.3 * .75)/((.75 + .3) + ((1 - .48) * .3))
x <- 1:4
p <- x/sum(x)
temp <- rbind(x, p)
rownames(temp) <- c("X", "Prob")
temp
temp
p[1]
temp[,1]
temp[2]
temp
temp[2,]
temp[2,] * temp[1,]
sum(temp[2,] * temp[1,])/4
sum(temp[2,] * temp[1,])
.75 / .48 * .3
d <- .75 * .3
n <- d
d + (.48 * .7)
d <- d + (.48 * .7)
n/d
(.75 * .3)/((.75 * .3) + (.48 * .7))
libary("lattice")
load.libary("lattice")
?library
librar("lattice")
install.package("lattice")
package("lattice")
install.libary()
install.packages("lattice")
librar("lattice")
library("lattice")
install.packages("nlme")
print("Hello world!")
xyplot(weight ~ Time | Diet, BodyWeight)
library("nlme")
xyplot(weight ~ Time | Diet, BodyWeight)
str(BodyWeight)
install.packages("ggplot2")
library("ggplot2")
library(lattice)
library(datasets)
data(airquality)
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
print(p)
?print.trellis()
?trellis.par.set()
?splom()
?par()
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
library(datasets)
data(airquality)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(Wind, Ozone, data = airquality, geom = "smooth")
qplot(Wind, Ozone, data = airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(datasets)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(ggplot2)
g <- ggplot(movies, aes(votes, rating))
print(g)
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies, panel = panel.loess)
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + stats_smooth("loess")
qplot(votes, rating, data = movies) + geom_smooth()
data(mpg)
mph
mpg
str(mpg)
qplot(dipsl, hy, data=mpg)
qplot(displ, hy, data=mpg)
qplot(displ, hwy, data=mpg)
qplot(displ, hwy, data=mpg, color=drv)
qplot(displ, hwy, data=mpg, color=class)
qplot(displ, hwy, data=mpg, color=city)
qplot(displ, hwy, data=mpg, color=cty)
qplot(displ, hwy, data=mpg)
qplot(displ, hwy, data=mpg, color=cty)
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + geom_smooth()
rm(list=ls())
clear()
clear
reset
data=c(83, 31, 16, 12, 91, 81)
mean(data)
data=c(83,32,16,12,91,81)
count(data)
num(data)
mean <- sum(data)/length(data)
mean
dist <- data - mean
dist
sqdist <- dist^2
sqdist
dist2/(length(data)-1)
sqdist/(length(data)-1)
var <- sum(sqdist)/(length(data)-1)
var
data <- cat(2, 1, 20, 8)
data <- c(2, 1, 20, 8)
data
sum(data)/4
mean <- sum(data)/4
dist <- (data-mean)^2
dist / 3
sum(dist) / 3
data <- c(16,1,3,14)
mean <- sum(data)/4
mean
dist <- (data - mean)^2
sum(dist) / 4
var(dta)
var(data)
std(data)
dbinom(4, 5, .5)
dbinom(4, 5, .5) + dbinom(5, 5, .5)
cnorm
cnorm
pnorm
?pnorm
pnorm(70, 80, 10)
qnorm(95, 80, 10)
qnorm(0.95, 80, 10)
qnorm(0.95, 1100, 75)
rpnorm
qnorm(0.95, 1100, 75/sqrt(100))
round(ppois(20, lambda = 16.5 * 2) * 100, 1)
ppois(10, lambda = 5 * 3)
round(pnorm(.51, mean = 0.5, sd = sqrt(1 / 12 / 100), lower.tail = FALSE), 3)
round(pnorm(.51, mean = 15, sd = sqrt(100 / 100), lower.tail = FALSE), 3)
pnorm(16, mean = 15, sd = sqrt(100 / 100), lower.tail = FALSE)
pnorm(16, mean = 15, sd = sqrt(100 / 100), lower.tail = FALSE) + pnorm(14, mean = 15, sd = sqrt(100 / 100), lower.tail = TRUE)
pnorm(16, mean = 15, sd = sqrt(100 / 100), lower.tail = FALSE) + pnorm(14, mean = 15, sd = sqrt(100 / 100), lower.tail = TRUE) - 1
setwd("ExData_Plotting2")
SCC <- readRDS("Source_Classification_Code.rds")
source('~/.active-rstudio-document')
?aggregate
aggregate(NEI$Emissions, by=list(NEI$year), FUN=sum)
?lineplot
?plot
data <- aggregate(NEI$Emissions, by=list(NEI$year), FUN=sum)
plot(data)
plot(data type="l")
plot(data, type="l")
plot(data, type="b")
?plot
plot(data, type="a")
plot(data, type="s")
?plot
plot(data, type="h")
hist(data, type="h")
hist(data)
?hist
str(data)
hist(data$x)
hist(data$1)
hist(data$Group.1)
hist(data, type="h")
plot(data, type="a")
plot(data, type="b")
png("plot1.png")
source('~/DataScience/ExData_Plotting2/plot1.R')
dev.off()
plot(data, type="b")
source('~/DataScience/ExData_Plotting2/plot1.R')
?aggregate
plot(data, type="b", xlab="Year", ylab="Total PM2.5 in tons")
options(scipen)
options(scipen = 5)
plot(data, type="b", xlab="Year", ylab="Total PM2.5 in tons")
source('~/DataScience/ExData_Plotting2/plot1.R')
source('~/DataScience/ExData_Plotting2/plot2.R')
source('~/DataScience/ExData_Plotting2/plot2.R')
source('~/DataScience/ExData_Plotting2/plot2.R')
NEI[NEI$fips == "24510"]
str(NEI)
NEI[,NEI$fips == "24510"]
NEI$fips == "24510"
NEI[ , NEI$fips == "24510"]
NEI[, NEI$fips == "24510"]
NEI[NEI$fips == "24510", ]
NEI[NEI$fips == "24510", ]$fips
source('~/.active-rstudio-document')
source('~/DataScience/ExData_Plotting2/plot1.R')
source('~/DataScience/ExData_Plotting2/plot2.R')
library('ggplot2')
str(bmoreNEI)
?distinct
unique(NEI$Pollutant)
unique(NEI$ty[e])
unique(NEI$type)
unique(NEI$SCC)
clear
clear()
str(NEI)
unique(NEI$type)
aggregate(bmoreNEI$Emissions~year+type, FUN=sum)
aggregate(bmoreNEI$Emissions~bmoreNEI$year+bmoreNEI$type, FUN=sum)
totals <- aggregate(bmoreNEI$Emissions~bmoreNEI$year+bmoreNEI$type, FUN=sum)
totals
colnames(totals)
colnames(totals) <- c("Year", "Type", "Total PM2.5")
totals
qplot(Year, Total PM2.y in tons, data=nmoreNEI)
qplot('Year', 'Total PM2.y in tons', data=nmoreNEI)
qplot('Year', 'Total PM2.y in tons', data=bmoreNEI)
?qplot
qplot('Year', 'Type', data=bmoreNEI)
qplot(Year, Type, data=bmoreNEI)
colnames(totals) <- c("Year", "Type", "PM2.5")
qplot(Year, Type, data=bmoreNEI)
colnames(totals)
qplot(Year, Type, data=bmoreNEI)
mtcars
colnames(mtcars)
qplot(Year, Type, data=bmoreNEI)
colnames(bmoreNEI)
qplot(Year, Type, data=totals)
qplot(Year, PM2.5, data=totals)
qplot(Year, PM2.5, data=totals, facets=.~type)
qplot(Year, PM2.5, data=totals, facets=.~Type)
qplot(Year, PM2.5, data=totals, facets=Type~.)
?qplot
qplot(Year, PM2.5, data=totals, geom="line", facets=Type~.)
qplot(Year, PM2.5, data=totals, title="Hi", geom="line", facets=Type~.)
?qplot
qplot(Year, PM2.5, data=totals, main="Hi", geom="line", facets=Type~.)
qplot(Year, PM2.5, data=totals, main="Baltimore PM2.5 Emissions", geom="line", facets=Type~.)
source('~/DataScience/ExData_Plotting2/plot3.R')
source('~/DataScience/ExData_Plotting2/plot3.R')
last_plot()
source('~/DataScience/ExData_Plotting2/plot3.R')
ggsave(file="plot3.png", width=480, height=480)
source('~/DataScience/ExData_Plotting2/plot3.R')
dev("plot4.png")
png("plot4.png")
last_plot
last_plot()
dev.off()
png("plot4.png")
qplot(Year, PM2.5, data=totals, main="Baltimore PM2.5 Emissions", geom="line", facets=Type~.)
dev.off()
png("plot3.png", width=480, height=480)
qplot(Year, PM2.5, data=totals, main="Baltimore PM2.5 Emissions", geom="line", facets=Type~.)
dev.off()
source('~/DataScience/ExData_Plotting2/plot3.R')
png("plot3.png", width=480, height=480)
qplot(Year, PM2.5, data=totals, main="Baltimore PM2.5 Emissions", geom="line", facets=Type~.)
dev.off()
source('~/DataScience/ExData_Plotting2/plot3.R')
dev.off()
getwd()
# Read the data
NEI <- readRDS("summarySCC_PM25.rds")
# Get just the data for baltimore
bmoreNEI <- NEI[NEI$fips == "24510", ]
# Get total PM2.5 by year and type
totals <- aggregate(bmoreNEI$Emissions~bmoreNEI$year+bmoreNEI$type, FUN=sum)
colnames(totals) <- c("Year", "Type", "PM2.5")
# This keeps us from getting scientific notation on the y-axis
options(scipen = 5)
# Make the plot
library('ggplot2')
png("plot3.png", width=480, height=480)
qplot(Year, PM2.5, data=totals, main="Baltimore PM2.5 Emissions", geom="line", facets=Type~.)
dev.off()
source('~/DataScience/ExData_Plotting2/plot3.R')
source('~/DataScience/ExData_Plotting2/plot3.R')
source('~/DataScience/ExData_Plotting2/plot3.R')
source('~/DataScience/ExData_Plotting2/plot3.R')
